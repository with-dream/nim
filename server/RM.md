### 一、第三方库及作用
#### 1、redis

#### 2、rabbitMQ

#### 3、zookeeper

### 二、设计思路
##### 1、登录
注册统一放在redis中 使用集群 保证每个端的用户全局唯一
用户分为app、电脑、网页客户端
每个端可能登录在不同的服务器上
登录成功后 将rabbitMQ的名称同登录信息一起存在redis中 
用于不同服务器消息的路由

##### 2、消息收发
为保证消息送达 每个都需要回执

客户端A发送消息到B

1、A发消息到服务器 服务器回执收到消息 缓存消息

2、服务器根据全局redis检索客户端B所在的服务器 然后通过mq发送到所在的服务器
如果有多端登录 同样需要检索redis中其他端所在的服务器 然后用mq发送

3、B所在的服务器将消息推送给客户端B B收到消息回执给服务器 服务器再回执给客户端A

4、如果客户端B不在线 则存到离线数据库中




##### 3、消息缓存
